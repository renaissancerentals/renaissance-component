"use strict";(self.webpackChunk_renaissancerentals_renaissance_component=self.webpackChunk_renaissancerentals_renaissance_component||[]).push([[9850],{"./src/floorplan/section/FloorplanSection.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NoUnit:()=>NoUnit,NotFound:()=>NotFound,OneImage:()=>OneImage,OneSimilarFloorplan:()=>OneSimilarFloorplan,ShortTermFloorplan:()=>ShortTermFloorplan,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FloorplanSection_stories});var react=__webpack_require__("./node_modules/react/index.js"),Floorplan=__webpack_require__("./src/floorplan/data/Floorplan.ts"),FloorplanService=__webpack_require__("./src/floorplan/service/FloorplanService.ts"),GalleryHeroSkeleton=__webpack_require__("./src/gallery/GalleryHeroSkeleton.tsx"),lib=__webpack_require__("./node_modules/@contentmunch/muncher-ui/lib/index.js"),AssetService=__webpack_require__("./src/asset/service/AssetService.ts"),GalleryHeroMain=__webpack_require__("./src/gallery/GalleryHeroMain.tsx"),Utils=__webpack_require__("./src/utils/Utils.ts"),AssetModal=__webpack_require__("./src/asset/AssetModal.tsx"),VideoTours=__webpack_require__("./src/gallery/VideoTours.tsx"),VirtualTour=__webpack_require__("./src/gallery/VirtualTour.tsx"),GalleryModal=__webpack_require__("./src/gallery/GalleryModal.tsx"),GalleryHeroMobile=__webpack_require__("./src/gallery/GalleryHeroMobile.tsx"),HeroBadgeStats=__webpack_require__("./src/floorplan/section/HeroBadgeStats.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const FloorplanHero_FloorplanHero=_ref=>{let{floorplan,contactClickHandler,applyClickHandler,handleRefToMap,webSpecials}=_ref;const[assets,setAssets]=(0,react.useState)([]),[isAssetsLoading,setIsAssetsLoading]=(0,react.useState)(!0),[videoTours,setVideoTours]=(0,react.useState)([]),[virtualTour,setVirtualTour]=(0,react.useState)(void 0),[showFloorplanModal,setShowFloorplanModal]=(0,react.useState)(!1),[totalPages,setTotalPages]=(0,react.useState)(1),[toursCount,setToursCount]=(0,react.useState)(0),[currentView,setCurrentView]=(0,react.useState)("photo"),[assetInFocus,setAssetInFocus]=(0,react.useState)({}),[assetIndex,setAssetIndex]=(0,react.useState)(0),[showModal,setShowModal]=(0,react.useState)(!1),imageClickedHandler=image=>{setShowModal(!0),setAssetInFocus(image),setAssetIndex(assets.findIndex((value=>value.id===image.id)))};(0,react.useEffect)((()=>{floorplan.virtualTourLink&&setVirtualTour(floorplan.virtualTourLink);const tourLinks=[];floorplan.videoTourLink&&tourLinks.push(floorplan.videoTourLink),floorplan.threeSixtyVideoTourLink&&tourLinks.push(floorplan.threeSixtyVideoTourLink),setVideoTours(tourLinks);let otherAssetCounts=(tourLinks.length>0?1:0)+(floorplan.virtualTourLink?1:0);setToursCount(otherAssetCounts);const images=[];images.push({id:(0,Utils.K3)(floorplan.coverImage),name:"cover image"}),floorplan.photosFolderId?(0,AssetService.T9)(floorplan.photosFolderId).then((galleryAssets=>{images.push(...galleryAssets);let totalAssets=images.length+otherAssetCounts;if(totalAssets>5){let pages=Math.trunc((totalAssets-5)/8+1);setTotalPages((totalAssets-5)%8==0?pages:pages+1)}})).finally((()=>{setAssets(images),setIsAssetsLoading(!1)})):(setAssets(images),console.log(images),setIsAssetsLoading(!1))}),[floorplan]);const imageCountForFirstPage=()=>5-toursCount,getImagesForFirstSliderPage=assets.slice(0,assets.length>=imageCountForFirstPage()?imageCountForFirstPage():assets.length),assetsToShow=slideIndex=>{if((slideIndex=>0===slideIndex)(slideIndex))return getImagesForFirstSliderPage;const startIndex=imageCountForFirstPage()+8*(slideIndex-1),endIndex=startIndex+8;return assets.slice(startIndex,endIndex)};return(0,jsx_runtime.jsxs)("section",{className:"section-floorplan--hero",children:[isAssetsLoading?(0,jsx_runtime.jsx)(GalleryHeroSkeleton.R,{}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"gallery-hero",children:[(0,jsx_runtime.jsx)(GalleryModal.Y,{assets,assetInFocus,setAssetInFocus,showModal,assetIndex,setAssetIndex,modalCloseHandler:()=>{setShowModal(!1),setAssetInFocus({})},propertyId:floorplan.property.id}),"photo"===currentView?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"photo-view main",children:(0,jsx_runtime.jsx)(lib.ItemSlider,{sliderItems:[...Array(totalPages)].map(((x,i)=>(0,jsx_runtime.jsx)(GalleryHeroMain.J,{isAvailableNow:(0,FloorplanService.Hf)(floorplan),virtualTour,isFirst:0===i,toursCount,webSpecials,setCurrentView,imageClickedHandler,assetsToShow:assetsToShow(i),propertyId:floorplan.property.id})))})}),(0,jsx_runtime.jsx)("div",{className:"photo-view mobile",children:(0,jsx_runtime.jsx)(GalleryHeroMobile.L,{assets,toursCount,virtualTour,setCurrentView,imageClickedHandler,webSpecials,isAvailableNow:(0,FloorplanService.Hf)(floorplan),propertyId:floorplan.property.id})})]}):"","video tour"===currentView?(0,jsx_runtime.jsx)(VideoTours.r,{videoTourUrls:videoTours}):"","virtual tour"===currentView?(0,jsx_runtime.jsx)(VirtualTour.R,{virtualTourUrl:virtualTour}):"",(0,jsx_runtime.jsx)(HeroBadgeStats.E,{currentView,setCurrentView,totalAssets:null==assets?void 0:assets.length,videoTours,virtualTour})]})}),(0,jsx_runtime.jsx)(AssetModal.a,{assetUrl:floorplan.photo,assetTitle:"Floorplan image",showModal:showFloorplanModal,setShowModal:setShowFloorplanModal,propertyId:floorplan.property.id}),(0,jsx_runtime.jsx)("div",{className:"container",children:(0,jsx_runtime.jsxs)("div",{className:"floorplan--two-columns",children:[(0,jsx_runtime.jsxs)("div",{className:"floorplan-column-left",children:[(0,jsx_runtime.jsx)("h3",{children:floorplan.name}),floorplan.units.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("h4",{children:["$",(0,Utils.Rt)(floorplan.units,"rent"),"/mo"]}),(0,jsx_runtime.jsx)("p",{className:"floorplan--description",children:(()=>{const address=(0,FloorplanService.DC)(floorplan);return address.address+", "+address.city+", "+address.state+" "+address.zipcode})()})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),(0,jsx_runtime.jsxs)("div",{className:"floorplan--featured",children:[(0,jsx_runtime.jsx)(lib.Button,{size:"small",onClick:()=>setShowFloorplanModal(!0),children:(0,jsx_runtime.jsx)(lib.Icon,{name:"max",orientation:"right",children:"ViewFloorplan"})}),"|  ",(0,jsx_runtime.jsx)(lib.Button,{size:"small",onClick:()=>handleRefToMap(),children:(0,jsx_runtime.jsx)(lib.Icon,{orientation:"right",name:"map",children:"View on Map"})}),floorplan.property.busRoutes.length>0?(0,jsx_runtime.jsxs)("p",{children:["Bus Routes: ",floorplan.property.busRoutes.map(((busRoute,index)=>(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("a",{href:busRoute.busRouteLink,target:"_blank",rel:"noreferrer",children:busRoute.busRoute}),index<floorplan.property.busRoutes.length-1?", ":""]},"bus-route-"+index)))]}):""]})]}),(0,jsx_runtime.jsx)("div",{className:"main",children:(0,jsx_runtime.jsxs)("div",{className:" floorplan-column-right",children:[(0,jsx_runtime.jsx)(lib.Button,{variant:"primary",size:"medium",onClick:contactClickHandler,children:"contact us"}),(0,jsx_runtime.jsx)(lib.Button,{variant:"tertiary",size:"medium",onClick:applyClickHandler,children:"apply"}),(0,jsx_runtime.jsx)(lib.ShareButton,{title:"Check out this apartment",size:"large"})]})})]})})]})};try{FloorplanHero_FloorplanHero.displayName="FloorplanHero",FloorplanHero_FloorplanHero.__docgenInfo={description:"",displayName:"FloorplanHero",props:{floorplan:{defaultValue:null,description:"",name:"floorplan",required:!0,type:{name:"Floorplan"}},webSpecials:{defaultValue:null,description:"",name:"webSpecials",required:!0,type:{name:"WebSpecial[]"}},contactClickHandler:{defaultValue:null,description:"",name:"contactClickHandler",required:!0,type:{name:"() => void"}},applyClickHandler:{defaultValue:null,description:"",name:"applyClickHandler",required:!0,type:{name:"() => void"}},handleRefToMap:{defaultValue:null,description:"",name:"handleRefToMap",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/floorplan/section/FloorplanHero.tsx#FloorplanHero"]={docgenInfo:FloorplanHero_FloorplanHero.__docgenInfo,name:"FloorplanHero",path:"src/floorplan/section/FloorplanHero.tsx#FloorplanHero"})}catch(__react_docgen_typescript_loader_error){}var Card=__webpack_require__("./src/card/Card.tsx");const TestimonialsCard_TestimonialsCard=_ref=>{let{testimonials}=_ref;return(0,jsx_runtime.jsx)("div",{className:"testimonials-card",children:(0,jsx_runtime.jsx)(Card.Z,{featured:!0,children:(0,jsx_runtime.jsx)(lib.ItemSlider,{sliderItems:testimonials.map((testimonial=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("blockquote",{children:testimonial.testimonial}),(0,jsx_runtime.jsxs)("i",{children:["- ",testimonial.tenant,", former resident"]})]})))})})})};try{TestimonialsCard_TestimonialsCard.displayName="TestimonialsCard",TestimonialsCard_TestimonialsCard.__docgenInfo={description:"",displayName:"TestimonialsCard",props:{testimonials:{defaultValue:null,description:"",name:"testimonials",required:!0,type:{name:"Testimonial[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/floorplan/card/TestimonialsCard.tsx#TestimonialsCard"]={docgenInfo:TestimonialsCard_TestimonialsCard.__docgenInfo,name:"TestimonialsCard",path:"src/floorplan/card/TestimonialsCard.tsx#TestimonialsCard"})}catch(__react_docgen_typescript_loader_error){}var MapSection=__webpack_require__("./src/map/MapSection.tsx"),AssetApi=__webpack_require__("./src/service/AssetApi.ts");const SimilarFloorplanCard_SimilarFloorplanCard=_ref=>{let{similarFloorplans}=_ref;const[floorplans,setFloorplans]=(0,react.useState)([]),[isLoading,setIsLoading]=(0,react.useState)(!0);(0,react.useEffect)((()=>{const promises=[];similarFloorplans.forEach((similarFloorplan=>{promises.push((0,FloorplanService.kJ)(similarFloorplan.similarTo.id))})),Promise.all(promises).then((data=>{setFloorplans(data)})).finally((()=>setIsLoading(!1)))}),[similarFloorplans]);const imageUrl=floorplan=>floorplan&&floorplan.coverImage?(0,AssetService.Vh)(floorplan.coverImage,floorplan.property.id):AssetApi.TL,printFloorplanAddress=floorplan=>{const address=(0,FloorplanService.DC)(floorplan);return address.address+", "+address.city+" "+address.state+", "+address.zipcode};return(0,jsx_runtime.jsx)("div",{className:"similar-floorplans-card",children:(0,jsx_runtime.jsx)(Card.Z,{title:"You Might Also Like",children:isLoading?(0,jsx_runtime.jsx)(lib.Spinner,{size:"medium"}):(0,jsx_runtime.jsx)(lib.ItemSlider,{navButtonSize:"medium",sliderItems:floorplans.map((floorplan=>(0,jsx_runtime.jsxs)("div",{className:"similar-floorplan-card",children:[(0,jsx_runtime.jsx)("div",{className:"card-slider-body",style:{backgroundImage:"url(".concat(imageUrl(floorplan),")")}}),(0,jsx_runtime.jsxs)("div",{className:"card-slider-footer",children:[(0,jsx_runtime.jsx)("h3",{children:(0,jsx_runtime.jsx)("a",{href:"/floorplans/"+floorplan.id,children:floorplan.name})}),(0,jsx_runtime.jsx)("p",{children:printFloorplanAddress(floorplan)}),(0,jsx_runtime.jsxs)("p",{children:[" ",floorplan.bedroom," Bedroom $",(0,Utils.Rt)(floorplan.units,"rent"),"/mo"]})]})]})))})})})};try{SimilarFloorplanCard_SimilarFloorplanCard.displayName="SimilarFloorplanCard",SimilarFloorplanCard_SimilarFloorplanCard.__docgenInfo={description:"",displayName:"SimilarFloorplanCard",props:{similarFloorplans:{defaultValue:null,description:"",name:"similarFloorplans",required:!0,type:{name:"SimilarFloorplan[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/floorplan/card/SimilarFloorplanCard.tsx#SimilarFloorplanCard"]={docgenInfo:SimilarFloorplanCard_SimilarFloorplanCard.__docgenInfo,name:"SimilarFloorplanCard",path:"src/floorplan/card/SimilarFloorplanCard.tsx#SimilarFloorplanCard"})}catch(__react_docgen_typescript_loader_error){}var moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),Property=__webpack_require__("./src/property/data/Property.ts"),ShortTermFloorplanSection=__webpack_require__("./src/short-term/ShortTermFloorplanSection.tsx");const FloorplanSection_FloorplanSection=_ref=>{var _floorplan$property,_floorplan$property2;let{contactClickHandler,applyClickHandler,floorplanId,locationRef,handleRefToLocation}=_ref;const[floorplan,setFloorplan]=(0,react.useState)({}),[similarFloorplans,setSimilarFloorplans]=(0,react.useState)([]),[floorplanVariations,setFloorplanVariations]=(0,react.useState)([]),[testimonials,setTestimonials]=(0,react.useState)([]),[webSpecials,setWebSpecials]=(0,react.useState)([]),[isLoading,setIsLoading]=(0,react.useState)(!0),[errorLoading,setErrorLoading]=(0,react.useState)(!1),mapRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{(0,FloorplanService.kJ)(floorplanId).then((floorplanData=>{setFloorplan(floorplanData),floorplanData.units=floorplanData.units.filter((unit=>unit.active)),Property.U7.SHORT_TERM===floorplanData.property.leaseType?setIsLoading(!1):Promise.all([(0,FloorplanService.Ce)(floorplanId),(0,FloorplanService.QJ)(floorplanId),(0,FloorplanService.BZ)(floorplanId),(0,FloorplanService.zQ)(floorplanId)]).then((data=>{const today=moment_default()();setFloorplanVariations(data[0]),setSimilarFloorplans(data[1]),setTestimonials(data[2]);const validWebSpecials=[];data[3].forEach((webSpecial=>{(0,Utils.iA)(webSpecial.startDate).isBefore(today)&&(0,Utils.iA)(webSpecial.endDate).isAfter(today)&&validWebSpecials.push(webSpecial)})),setWebSpecials(validWebSpecials)})).catch((()=>{setErrorLoading(!0)})).finally((()=>{setIsLoading(!1)}))})).catch((()=>{setErrorLoading(!0),setIsLoading(!1)}))}),[floorplanId]);const residentUtilityDetails=utility=>utility.averageMonthlyBill?(0,Utils.fm)(utility.name)+" - Avg/Mo "+(0,Utils.tF)(utility.averageMonthlyBill):(0,Utils.fm)(utility.name);return Property.U7.SHORT_TERM===(null===(_floorplan$property=floorplan.property)||void 0===_floorplan$property?void 0:_floorplan$property.leaseType)?(0,jsx_runtime.jsx)(ShortTermFloorplanSection.N,{contactClickHandler,applyClickHandler,floorplanId}):(0,jsx_runtime.jsx)("section",{className:"section-floorplan",children:isLoading?(0,jsx_runtime.jsx)("section",{className:"section-floorplan--hero",children:(0,jsx_runtime.jsx)(GalleryHeroSkeleton.R,{})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:errorLoading?(0,jsx_runtime.jsx)("section",{className:"div-full--center",children:(0,jsx_runtime.jsx)("h2",{children:"Uh-oh, this is a 404"})}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FloorplanHero_FloorplanHero,{floorplan,contactClickHandler,webSpecials,applyClickHandler,handleRefToMap:()=>{var _mapRef$current;handleRefToLocation?handleRefToLocation():null===(_mapRef$current=mapRef.current)||void 0===_mapRef$current||_mapRef$current.scrollIntoView({behavior:"smooth",block:"start"})}}),(0,jsx_runtime.jsx)("div",{className:"container",children:(0,jsx_runtime.jsxs)("div",{className:"floorplan--cards",children:[(0,jsx_runtime.jsxs)(Card.Z,{title:"Details",children:[(0,jsx_runtime.jsxs)("p",{className:"floorplan-card--featured",children:[floorplan.bedroom," Bedroom | ",floorplan.bathroom," Bathroom ",(0,Utils.gq)(floorplan.style)]}),floorplan.units.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{className:"floorplan-card--featured",children:[(0,Utils.Rt)(floorplan.units,"squareFoot")," Square Feet"]}),(0,jsx_runtime.jsxs)("p",{className:"floorplan-card--featured",children:["$",(0,Utils.Rt)(floorplan.units,"rent"),"/mo"]}),(0,jsx_runtime.jsxs)("p",{className:"floorplan-card--featured",children:["$",(0,Utils.Rt)(floorplan.units,"deposit")," Security Deposit"]})]}):"",(0,jsx_runtime.jsx)("p",{children:floorplan.description})]}),floorplan.amenities.length>0?(0,jsx_runtime.jsxs)(Card.Z,{title:"Amenities",children:[(0,jsx_runtime.jsxs)(lib.Ul,{children:[floorplan.amenities.filter((amenity=>amenity.featured)).map((amenity=>(0,jsx_runtime.jsx)(lib.Li,{bulletIcon:"star",isFeatured:!0,children:amenity.name},"floorplan-amenity-"+amenity.id))),floorplan.amenities.filter((amenity=>!amenity.featured)).map((amenity=>(0,jsx_runtime.jsx)(lib.Li,{bulletIcon:"dot",children:amenity.name},"floorplan-amenity-"+amenity.id)))]}),floorplanVariations.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h5",{children:"Variations"}),(0,jsx_runtime.jsx)(lib.Ul,{children:floorplanVariations.map(((variation,i)=>(0,jsx_runtime.jsx)(lib.Li,{children:variation.variation},"floorplan-variation-"+i)))})]}):""]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),testimonials.length>0?(0,jsx_runtime.jsx)(TestimonialsCard_TestimonialsCard,{testimonials}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),(0,jsx_runtime.jsxs)(Card.Z,{children:[(0,jsx_runtime.jsx)("div",{ref:locationRef||mapRef,id:"location",className:"reference"}),(0,jsx_runtime.jsx)(MapSection.s,{src:(0,Utils.fH)((0,FloorplanService.DC)(floorplan))})]}),(0,jsx_runtime.jsxs)(Card.Z,{title:"Pets",children:[(0,jsx_runtime.jsx)("h5",{children:"Permitted"}),(0,jsx_runtime.jsx)(lib.Ul,{children:(0,FloorplanService.sO)(floorplan).map(((pet,i)=>(0,jsx_runtime.jsx)(lib.Li,{bulletIcon:"check",bulletColor:"green",children:pet},"floorplan-permitted-pet-"+i)))}),(0,FloorplanService.b7)(floorplan).length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h5",{children:"Not Permitted"}),(0,jsx_runtime.jsx)(lib.Ul,{children:(0,FloorplanService.b7)(floorplan).map(((pet,i)=>(0,jsx_runtime.jsx)(lib.Li,{bulletColor:"brown",bulletIcon:"close",children:pet},"floorplan-not-permitted-pet-"+i)))})]}):"",(0,FloorplanService.HG)(floorplan)?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h5",{children:"Additional Information"}),(0,jsx_runtime.jsx)("p",{children:(0,FloorplanService.HG)(floorplan)})]}):""]}),floorplan.units.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Card.Z,{title:"Availability",children:(0,jsx_runtime.jsx)(lib.Ul,{children:(()=>{const dates=new Set,today=moment_default()(),tomorrow=today.add(1,"day");return floorplan.units.forEach((unit=>{const moveInDate=(0,Utils.iA)(unit.moveInDate);(moveInDate=>moveInDate.isBefore(tomorrow))(moveInDate)?dates.add(today.format("MMMM YYYY")):dates.add(moveInDate.format("MMMM YYYY"))})),Array.from(dates).sort(((a,b)=>moment_default()(a,"MMMM YYYY").diff(moment_default()(b,"MMMM YYYY"))))})().filter((availableDate=>(date=>{const current=moment_default()(date,"MMM YYYY"),twelveMonthsFromNow=moment_default()().add(1,"year");return current.isBefore(twelveMonthsFromNow)})(availableDate))).map((availableDate=>(0,jsx_runtime.jsxs)(lib.Li,{bulletIcon:"calendar",children:["Available in ",(0,jsx_runtime.jsx)("strong",{children:(0,Utils.fm)(availableDate)})]},"floorplan-unit-availability-"+availableDate)))})}),(0,jsx_runtime.jsxs)(Card.Z,{title:"Utilities",children:[(0,jsx_runtime.jsx)("h5",{children:"Paid By Landlord"}),(0,jsx_runtime.jsx)(lib.Ul,{children:floorplan.utilities.filter((utility=>utility.type===Floorplan.U2.INCLUDED_UTILITY)).map((utility=>(0,jsx_runtime.jsx)(lib.Li,{bulletIcon:"home",children:(0,Utils.fm)(utility.name)},"floorplan-included-utility-"+utility.id)))}),(0,jsx_runtime.jsx)("h5",{children:"Paid By Resident"}),(0,jsx_runtime.jsx)(lib.Ul,{children:floorplan.utilities.filter((utility=>utility.type===Floorplan.U2.RESIDENT_UTILITY)).map((utility=>(0,jsx_runtime.jsx)(lib.Li,{bulletIcon:"dollar",children:residentUtilityDetails(utility)},"floorplan-resident-utility-"+utility.id)))}),floorplan.utilities.filter((utility=>utility.type===Floorplan.U2.RESIDENT_UTILITY)).some((utility=>null!=utility.averageMonthlyBill))?(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)("i",{children:"**Average utilities shown above are an estimate. Actual monthly utility costs can vary significantly based on individual usage, time of year, the weather, and other factors"})}):""]})]}):"",similarFloorplans.length>0?(0,jsx_runtime.jsx)(SimilarFloorplanCard_SimilarFloorplanCard,{similarFloorplans}):"",(0,jsx_runtime.jsx)("div",{className:"contact-card",children:(0,jsx_runtime.jsxs)(Card.Z,{featured:!0,children:[(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)("i",{children:"Questions?"})}),(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)("i",{children:"Call or text us anytime:"})}),null!==(_floorplan$property2=floorplan.property)&&void 0!==_floorplan$property2&&_floorplan$property2.phone?(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)("a",{href:"tel:"+floorplan.property.phone,children:(0,Utils.un)(floorplan.property.phone)})}):"",(0,jsx_runtime.jsx)(lib.Button,{variant:"tertiary",onClick:contactClickHandler,size:"large",children:"Contact Us »"})]})})]})})]})})})};try{FloorplanSection_FloorplanSection.displayName="FloorplanSection",FloorplanSection_FloorplanSection.__docgenInfo={description:"",displayName:"FloorplanSection",props:{contactClickHandler:{defaultValue:null,description:"",name:"contactClickHandler",required:!0,type:{name:"() => void"}},applyClickHandler:{defaultValue:null,description:"",name:"applyClickHandler",required:!0,type:{name:"() => void"}},floorplanId:{defaultValue:null,description:"",name:"floorplanId",required:!0,type:{name:"string"}},locationRef:{defaultValue:null,description:"",name:"locationRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},handleRefToLocation:{defaultValue:null,description:"",name:"handleRefToLocation",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/floorplan/section/FloorplanSection.tsx#FloorplanSection"]={docgenInfo:FloorplanSection_FloorplanSection.__docgenInfo,name:"FloorplanSection",path:"src/floorplan/section/FloorplanSection.tsx#FloorplanSection"})}catch(__react_docgen_typescript_loader_error){}const FloorplanSection_stories={title:"Section/FloorplanSection",component:FloorplanSection_FloorplanSection},Template=args=>(0,jsx_runtime.jsx)(FloorplanSection_FloorplanSection,{...args}),Default=Template.bind({});Default.args={contactClickHandler:()=>{console.log("contact clicked")},applyClickHandler:()=>{console.log("apply clicked")},floorplanId:"merci"};const OneImage=Template.bind({});OneImage.args={...Default.args,floorplanId:"view-deck"};const OneSimilarFloorplan=Template.bind({});OneSimilarFloorplan.args={...Default.args,floorplanId:"showalter-loft"};const ShortTermFloorplan=Template.bind({});ShortTermFloorplan.args={...Default.args,floorplanId:"1-bedroom-flat"};const NoUnit=Template.bind({});NoUnit.args={...Default.args,floorplanId:"brighten-suite"};const NotFound=Template.bind({});NotFound.args={...Default.args,floorplanId:"everhart-not-found"},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <FloorplanSection {...args} />",...Default.parameters?.docs?.source}}},OneImage.parameters={...OneImage.parameters,docs:{...OneImage.parameters?.docs,source:{originalSource:"args => <FloorplanSection {...args} />",...OneImage.parameters?.docs?.source}}},OneSimilarFloorplan.parameters={...OneSimilarFloorplan.parameters,docs:{...OneSimilarFloorplan.parameters?.docs,source:{originalSource:"args => <FloorplanSection {...args} />",...OneSimilarFloorplan.parameters?.docs?.source}}},ShortTermFloorplan.parameters={...ShortTermFloorplan.parameters,docs:{...ShortTermFloorplan.parameters?.docs,source:{originalSource:"args => <FloorplanSection {...args} />",...ShortTermFloorplan.parameters?.docs?.source}}},NoUnit.parameters={...NoUnit.parameters,docs:{...NoUnit.parameters?.docs,source:{originalSource:"args => <FloorplanSection {...args} />",...NoUnit.parameters?.docs?.source}}},NotFound.parameters={...NotFound.parameters,docs:{...NotFound.parameters?.docs,source:{originalSource:"args => <FloorplanSection {...args} />",...NotFound.parameters?.docs?.source}}};const __namedExportsOrder=["Default","OneImage","OneSimilarFloorplan","ShortTermFloorplan","NoUnit","NotFound"]},"./src/floorplan/data/Floorplan.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dp:()=>MAX_RENT,Nb:()=>FloorplanStyle,U2:()=>UtilityType,xt:()=>MIN_RENT});const MIN_RENT=0,MAX_RENT=4e3;let FloorplanStyle=function(FloorplanStyle){return FloorplanStyle.STUDIO="STUDIO",FloorplanStyle.APARTMENT="APARTMENT",FloorplanStyle.TOWN_HOME="TOWN_HOME",FloorplanStyle.SINGLE_FAMILY="SINGLE_FAMILY",FloorplanStyle.GARAGE="GARAGE",FloorplanStyle}({}),UtilityType=function(UtilityType){return UtilityType.RESIDENT_UTILITY="RESIDENT_UTILITY",UtilityType.INCLUDED_UTILITY="INCLUDED_UTILITY",UtilityType}({})},"./src/floorplan/data/FloorplanFilters.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SortFields});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contentmunch_muncher_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@contentmunch/muncher-ui/lib/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SortFields={featured:{element:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_contentmunch_muncher_ui__WEBPACK_IMPORTED_MODULE_1__.Icon,{name:"star"})," Featured"]}),sortField:"featured",order:"desc"},priceAsc:{element:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_contentmunch_muncher_ui__WEBPACK_IMPORTED_MODULE_1__.Icon,{name:"sort-asc"})," Price"]}),sortField:"minRate",order:"asc"},priceDesc:{element:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_contentmunch_muncher_ui__WEBPACK_IMPORTED_MODULE_1__.Icon,{name:"sort-desc"})," Price"]}),sortField:"minRate",order:"desc"},bedroomsAsc:{element:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_contentmunch_muncher_ui__WEBPACK_IMPORTED_MODULE_1__.Icon,{name:"sort-asc"})," Bedrooms"]}),sortField:"bedroom",order:"asc"},bedroomsDesc:{element:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_contentmunch_muncher_ui__WEBPACK_IMPORTED_MODULE_1__.Icon,{name:"sort-desc"})," Bedrooms"]}),sortField:"bedroom",order:"desc"}}},"./src/floorplan/data/Unit.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{bS:()=>Pet});let Pet=function(Pet){return Pet.NO_PET="NO_PET",Pet.CAT="CAT",Pet.SMALL_DOG_CAT="SMALL_DOG_CAT",Pet.LARGE_DOG_SMALL_DOG_CAT="LARGE_DOG_SMALL_DOG_CAT",Pet}({})},"./src/floorplan/service/FloorplanService.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BZ:()=>getTestimonials,Ce:()=>getFloorplanVariations,DC:()=>floorplanAddress,Gk:()=>AVAILABLE_NOW,HG:()=>petPolicy,Hf:()=>isFloorplanAvailable,IW:()=>filtersFrom,Lz:()=>getAllPropertyFilterData,QJ:()=>getSimilarFloorplans,UW:()=>sortAndFilter,b7:()=>notPermittedPets,kJ:()=>getFloorplan,qZ:()=>defaultAvailabilityToMonthYear,qq:()=>sortFloorplans,sO:()=>permittedPets,zQ:()=>getWebSpecials});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/floorplan/data/FloorplanFilters.tsx"),moment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),_utils_Utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/Utils.ts"),_data_Unit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/floorplan/data/Unit.ts"),_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/service/RoundRobin.ts"),_data_RenaissanceData__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/data/RenaissanceData.ts");const AVAILABLE_NOW="Available Now",getAllPropertyFilterData=async()=>{const properties=(await(0,_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__.U)("properties?projection=filter")).data._embedded.properties.filter((property=>property.active));return properties.forEach((property=>{property.floorplans=property.floorplans.filter((floorplan=>floorplan.active)),property.floorplans.forEach((floorplan=>{floorplan.units=floorplan.units.filter((unit=>unit.active))}))})),properties},sortAndFilter=(floorplans,currentFilters)=>sortFloorplans(floorplans.filter((floorplan=>filterMatches(floorplan,currentFilters))),currentFilters.sortBy),dateToMonthYear=dateString=>moment__WEBPACK_IMPORTED_MODULE_2___default()(dateString,"YYYY-MM-DD").format("MMM YYYY"),defaultAvailabilityToMonthYear=dateString=>AVAILABLE_NOW===dateString?dateString:moment__WEBPACK_IMPORTED_MODULE_2___default()(dateString,"MM-YYYY").format("MMM YYYY"),isBeforeToday=date=>moment__WEBPACK_IMPORTED_MODULE_2___default()(date).isBefore(today),filterMatches=(floorplan,currentFilters)=>((floorplan,availabilityFilters)=>0===availabilityFilters.length||floorplan.units.some((unit=>{return!!(availabilityFilters.indexOf(AVAILABLE_NOW)>-1&&isBeforeToday(unit.moveInDate))||!!(availabilityFilters.indexOf((date=today,date.format("MMM YYYY")))>-1&&isBeforeToday(unit.moveInDate))||availabilityFilters.indexOf(dateToMonthYear(unit.moveInDate))>-1;var date})))(floorplan,currentFilters.availabilityFilters)&&((floorplan,minRent,maxRent)=>{const minMax=(0,_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(floorplan.units,"rent");return minMax.min>=minRent&&minMax.max<=maxRent})(floorplan,currentFilters.minRent,currentFilters.maxRent)&&((floorplan,styleFilters)=>0===styleFilters.length||styleFilters.indexOf(floorplan.style)>-1)(floorplan,currentFilters.styleFilters)&&((floorplan,bedroomFilters)=>0===bedroomFilters.length||bedroomFilters.indexOf(floorplan.bedroom)>-1)(floorplan,currentFilters.bedroomFilters)&&((floorplan,floorplanIds)=>0===floorplanIds.length||floorplanIds.indexOf(floorplan.id)>-1)(floorplan,currentFilters.floorplanIds),sortFloorplans=(floorplans,sortBy)=>{if("minRate"===_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__.Z[sortBy].sortField&&"desc"===_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__.Z[sortBy].order)return floorplans.sort(((a,b)=>(0,_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(b.units,"rent").min-(0,_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(a.units,"rent").min));const minRateSorted=floorplans.sort(((a,b)=>(0,_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(a.units,"rent").min-(0,_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(b.units,"rent").min));return"minRate"===_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__.Z[sortBy].sortField&&"asc"===_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__.Z[sortBy].order?minRateSorted:lodash__WEBPACK_IMPORTED_MODULE_0___default().orderBy(minRateSorted,_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__.Z[sortBy].sortField,_data_FloorplanFilters__WEBPACK_IMPORTED_MODULE_1__.Z[sortBy].order)},filtersFrom=floorplans=>{const bedroomFilters=new Set,availabilityFilters=new Set,styleFilters=new Set;return availabilityFilters.add(AVAILABLE_NOW),floorplans.forEach((floorplan=>{bedroomFilters.add(floorplan.bedroom),styleFilters.add(floorplan.style),floorplan.units.forEach((value=>{value.moveInDate&&(date=>{const today=moment__WEBPACK_IMPORTED_MODULE_2___default()(),diff=moment__WEBPACK_IMPORTED_MODULE_2___default()(date,"YYYY-MM-DD").diff(today,"months",!1);return diff>=0&&diff<=12})(value.moveInDate)&&(date=>{const today=moment__WEBPACK_IMPORTED_MODULE_2___default()();return moment__WEBPACK_IMPORTED_MODULE_2___default()(date,"YYYY-MM-DD").isAfter(today)})(value.moveInDate)&&availabilityFilters.add(dateToMonthYear(value.moveInDate))}))})),{bedroom:bedroomFilters,availability:availabilityFilters,style:styleFilters}},getFloorplan=floorplanId=>(0,_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__.U)("floorplans/"+floorplanId+"?projection=withId").then((response=>response.data)),getSimilarFloorplans=floorplanId=>(0,_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__.U)("similarFloorplans/search/byFloorplanId?projection=withId&floorplanId="+floorplanId).then((response=>response.data._embedded.similarFloorplans)),getFloorplanVariations=floorplanId=>(0,_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__.U)("floorplanVariations/search/byFloorplanId?projection=withId&floorplanId="+floorplanId).then((response=>response.data._embedded.floorplanVariations)),today=moment__WEBPACK_IMPORTED_MODULE_2___default()(),isFloorplanAvailable=floorplan=>floorplan.units.some((unit=>today.isAfter((0,_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.iA)(unit.moveInDate)))),getTestimonials=floorplanId=>(0,_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__.U)("testimonials/search/byFloorplanId?projection=withId&floorplanId="+floorplanId).then((response=>response.data._embedded.testimonials)),getWebSpecials=floorplanId=>(0,_service_RoundRobin__WEBPACK_IMPORTED_MODULE_5__.U)("webSpecials/search/byFloorplanId?projection=withId&floorplanId="+floorplanId).then((response=>response.data._embedded.webSpecials)),permittedPets=floorplan=>{const unit=unitWithMostAllowedPet([...floorplan.units]);switch(null==unit?void 0:unit.allowedPet){case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.LARGE_DOG_SMALL_DOG_CAT:return["Large Dog","Small Dog","Cat"];case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.SMALL_DOG_CAT:return["Small Dog","Cat"];case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.CAT:return["Cat"];default:return["None"]}},notPermittedPets=floorplan=>{const unit=unitWithMostAllowedPet([...floorplan.units]);switch(null==unit?void 0:unit.allowedPet){case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.LARGE_DOG_SMALL_DOG_CAT:return[];case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.SMALL_DOG_CAT:return["Large Dog"];case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.CAT:return["Large Dog","Small Dog"];case _data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS.NO_PET:return["Large Dog","Small Dog","Cat"];default:return[]}},petPolicy=floorplan=>{const unit=unitWithMostAllowedPet([...floorplan.units]);return null==unit?void 0:unit.petPolicy},unitWithMostAllowedPet=units=>{const petOrdinal=pet=>Object.keys(_data_Unit__WEBPACK_IMPORTED_MODULE_4__.bS).indexOf(pet);return units.sort(((a,b)=>petOrdinal(b.allowedPet)-petOrdinal(a.allowedPet))).pop()},floorplanAddress=currentFloorplan=>{const address={address:"",city:_data_RenaissanceData__WEBPACK_IMPORTED_MODULE_6__.w.city,state:_data_RenaissanceData__WEBPACK_IMPORTED_MODULE_6__.w.state,zipcode:""};return 1===currentFloorplan.units.length?{...address,address:currentFloorplan.units[0].address,zipcode:currentFloorplan.units[0].zipcode}:{...address,address:currentFloorplan.property.address,zipcode:currentFloorplan.property.zipcode}}},"./src/property/data/Property.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U7:()=>LeaseType,h3:()=>PropertiesEmail,vx:()=>LeasingOfficeType});let LeasingOfficeType=function(LeasingOfficeType){return LeasingOfficeType.OFF_SITE="OFF_SITE",LeasingOfficeType.ON_SITE="ON_SITE",LeasingOfficeType}({}),LeaseType=function(LeaseType){return LeaseType.YEARLY="YEARLY",LeaseType.SHORT_TERM="SHORT_TERM",LeaseType}({});const PropertiesEmail={"Covenanter Hill":"covenanterhill@renaissancerentals.com",HighGrove:"meadowcreek@renaissancerentals.com","Huntington Gardens":"covenanterhill@renaissancerentals.com","Scholar's Quad":"quad@renaissancerentals.com","Scholar's Rock":"scholars@renaissancerentals.com","Scholar's Rooftop":"scholars@renaissancerentals.com","SummerHouse at Indiana":"summerhouse@renaissancerentals.com","Townhomes At MeadowCreek":"meadowcreek@renaissancerentals.com","Verona Park":"veronapark@renaissancerentals.com",Other:"inquiries@renaissancerentals.com"}}}]);