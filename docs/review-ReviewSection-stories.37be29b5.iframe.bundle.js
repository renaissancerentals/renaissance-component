"use strict";(self.webpackChunk_renaissancerentals_renaissance_component=self.webpackChunk_renaissancerentals_renaissance_component||[]).push([[936],{"./src/review/ReviewSection.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ReviewSection_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),lib=__webpack_require__("./node_modules/@contentmunch/muncher-ui/lib/index.js"),FloorplanService=__webpack_require__("./src/floorplan/service/FloorplanService.ts"),AssetService=__webpack_require__("./src/asset/service/AssetService.ts"),AssetApi=__webpack_require__("./src/service/AssetApi.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ReviewSection_ReviewSection=function ReviewSection(_ref){var property=_ref.property,starColor=_ref.starColor,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),reviews=_useState2[0],setReviews=_useState2[1],_useState3=(0,react.useState)(!0),_useState4=(0,slicedToArray.Z)(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];return(0,react.useEffect)((function(){var promises=[];property.floorplans.map((function(floorplan){promises.push((0,FloorplanService.BZ)(floorplan.id))})),Promise.all(promises).then((function(data){var currentTestimonials=[],currentReview=[];data.forEach((function(testimonialsData){currentTestimonials.push.apply(currentTestimonials,(0,toConsumableArray.Z)(testimonialsData))}));for(var index=0;index<currentTestimonials.length-1;)currentReview.push({left:currentTestimonials[index++],right:currentTestimonials[index++]});setReviews(currentReview)})).finally((function(){return setIsLoading(!1)}))}),[property.floorplans]),(0,jsx_runtime.jsx)("div",{className:"container",children:(0,jsx_runtime.jsx)("section",{className:"section-review",children:isLoading?"":(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"review-content",style:{backgroundImage:"url(".concat(property.coverImage?(0,AssetService.Vh)(property.coverImage,property.id):AssetApi.TL,")")},children:(0,jsx_runtime.jsx)("div",{className:"wrapper",children:(0,jsx_runtime.jsx)(lib.ItemSlider,{navButtonSize:"medium",navIcon:"arrow",variant:"transparent",navButtonWeight:2,sliderItems:reviews.map((function(review){return(0,jsx_runtime.jsxs)("div",{className:"review",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{className:"testimonials",children:review.left.testimonial}),(0,jsx_runtime.jsxs)("p",{className:"tenant",children:["-",review.left.tenant," | resident"]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{className:"testimonials",children:review.right.testimonial}),(0,jsx_runtime.jsxs)("p",{className:"tenant",children:["-",review.right.tenant," | resident"]})]})]})}))})})}),property.rating?(0,jsx_runtime.jsxs)("div",{className:"review-footer",children:[(0,jsx_runtime.jsx)(lib.Star,{rating:property.rating,size:"medium",color:starColor||"blue"}),(0,jsx_runtime.jsxs)("h3",{children:["Â ",property.ratingLink?(0,jsx_runtime.jsxs)("a",{href:property.ratingLink,target:"_blank",children:[property.rating," Stars on Google"]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[property.rating," Stars on Google"]})]})]}):""]})})})};try{ReviewSection_ReviewSection.displayName="ReviewSection",ReviewSection_ReviewSection.__docgenInfo={description:"",displayName:"ReviewSection",props:{property:{defaultValue:null,description:"",name:"property",required:!0,type:{name:"PropertyDetails"}},starColor:{defaultValue:null,description:"",name:"starColor",required:!1,type:{name:"enum",value:[{value:'"green"'},{value:'"yellow"'},{value:'"orange"'},{value:'"red"'},{value:'"blue"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/review/ReviewSection.tsx#ReviewSection"]={docgenInfo:ReviewSection_ReviewSection.__docgenInfo,name:"ReviewSection",path:"src/review/ReviewSection.tsx#ReviewSection"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,PropertyService=__webpack_require__("./src/property/service/PropertyService.ts"),ReviewSection_stories={title:"Section/Review Section",component:ReviewSection_ReviewSection},Default=function Template(args){var _useState=(0,react.useState)({}),_useState2=(0,slicedToArray.Z)(_useState,2),property=_useState2[0],setProperty=_useState2[1],_useState3=(0,react.useState)(!0),_useState4=(0,slicedToArray.Z)(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];return(0,react.useEffect)((function(){(0,PropertyService.$)("verona-park").then((function(data){setProperty(data),setIsLoading(!1)}))}),[]),isLoading?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}):(0,jsx_runtime.jsx)(ReviewSection_ReviewSection,(0,objectSpread2.Z)((0,objectSpread2.Z)({},args),{},{property:property}))}.bind({});Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:'args => {\n  const [property, setProperty] = useState<PropertyDetails>(({} as PropertyDetails));\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    getProperty("verona-park").then(data => {\n      setProperty(data);\n      setIsLoading(false);\n    });\n  }, []);\n  return isLoading ? <></> : <ReviewSection {...args} property={property} />;\n}'},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./src/property/service/PropertyService.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:function(){return getProperty}});var _service_GraphqlQuery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/service/GraphqlQuery.ts"),getProperty=function getProperty(propertyId){return(0,_service_GraphqlQuery__WEBPACK_IMPORTED_MODULE_0__.B)(function getPropertyQuery(propertyId){return'{                                                               property(id: "'+propertyId+'") {                                    id name address zipcode active phone email rating description secondaryEmail            facebookLink twitterLink htmlTitle metaDescription            logo leasingOfficeType coverImage propertyFolderId            photosFolderId youtubeLink ratingLink conversionTrackingId1            conversionTrackingId2 amenities {id name type featured}            teamMembers {id name blogLink jobTitle email  photoLink }            busRoutes { busRoute busRouteLink}            leasingOffice {                 id name address zipcode phone officeHours direction officeMap                 officeMapLandscape officeImage officeImageDescription             }            floorplans { id name bedroom bathroom style featured                 greenCertified videoTourLink threeSixtyVideoTourLink                 virtualTourLink photo coverImage floorPlanFolderId                 photosFolderId active amenities {id name featured type}                 units { id squareFoot allowedPet rent discountedRent                     deposit garages moveInDate furnished active                 }            }                                                           }                                                               }'}(propertyId)).then((function(response){return response.data.data.property}))}}}]);